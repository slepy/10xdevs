---
import MinimalLayout from "../layouts/MinimalLayout.astro";
import { LoginForm } from "../components/forms/LoginForm";
import { isFeatureEnabled } from "../features";

const title = "Zaloguj się | BlindInvest";

// Check if auth feature is enabled
if (!isFeatureEnabled("auth")) {
  return Astro.redirect("/");
}

// MinimalLayout automatically redirects logged-in users
---

<MinimalLayout title={title} showBackButton={true}>
  <div class="bg-white shadow-xl rounded-2xl p-8" data-testid="login-page">
    <div class="text-center mb-8" data-testid="login-header">
      <h1 class="text-3xl font-bold text-gray-900 mb-2" data-testid="login-title">Zaloguj się</h1>
      <p class="text-gray-600" data-testid="login-subtitle">Wprowadź swoje dane, aby uzyskać dostęp do konta</p>
    </div>

    <LoginForm client:load />
  </div>
</MinimalLayout>
