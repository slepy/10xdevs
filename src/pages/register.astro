---
import MinimalLayout from "../layouts/MinimalLayout.astro";
import { RegisterForm } from "../components/forms/RegisterForm";
import { isFeatureEnabled } from "../features";

const title = "Zarejestruj się | BlindInvest";

// Check if auth feature is enabled
if (!isFeatureEnabled("auth")) {
  return Astro.redirect("/");
}

// MinimalLayout automatically redirects logged-in users
---

<MinimalLayout title={title} showBackButton={true}>
  <div class="bg-white shadow-xl rounded-2xl p-8" data-testid="register-page">
    <div class="text-center mb-8" data-testid="register-header">
      <h1 class="text-3xl font-bold text-gray-900 mb-2" data-testid="register-title">Zarejestruj się</h1>
      <p class="text-gray-600" data-testid="register-subtitle">Stwórz nowe konto, aby rozpocząć inwestowanie</p>
    </div>

    <RegisterForm client:load />
  </div>
</MinimalLayout>
