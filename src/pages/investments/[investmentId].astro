---
import AuthenticatedLayout from "../../layouts/AuthenticatedLayout.astro";
import { InvestmentDetailsView } from "../../components/investment-details/InvestmentDetailsView";

export const prerender = false;

// AuthenticatedLayout automatically requires authentication
// Only SIGNER role users should access this page

const { investmentId } = Astro.params;

if (!investmentId) {
  return Astro.redirect("/investments");
}
---

<AuthenticatedLayout title="Szczegóły Inwestycji - BlindInvest">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
    <InvestmentDetailsView client:load investmentId={investmentId} userRole="signer" />
  </div>
</AuthenticatedLayout>
